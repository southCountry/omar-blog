## MySQL架构
### MySQL逻辑架构
![MySQL逻辑架构](https://github.com/southCountry/omar-blog/raw/master/images/mysql/logic-arc.png)

#### 连接管理
1. 每个客户端连接都会在服务器进程中拥有一个线程，这个连接的查询智慧在这个单独的线程中执行，该线程只能轮流在某个cpu中运行
2. 服务器会负责缓存线程

#### 存储引擎
1. 负责MySQL中数据的存储和提取
2. 和Linux下的各种文件系统一样，每个存储引擎都有它的优势和劣势
3. 服务器通过api和存储引擎通信，这些api包含几十个底层函数，如：“开始一个事务”，“根据主键返回一行记录”等。
4. 存储引擎不会解析sql，不同存储引擎之间也不会互相通信，只是响应上层服务器的请求

#### 优化与执行
1. 重写查询，决定表的读取顺序，选择合适的索引
2. 用户可以通过关键字hint影响优化器的决策过程
3. 优化器在优化前会请求存储引擎返回开销信息，表数据统计信息以方便决策

