### 虚拟机
所谓虚拟机，就是一台虚拟的计算机。它是一款软件，用来执行一系列虚拟计算机指令。

### java虚拟机结构
![JVM基本结构](https://github.com/southCountry/omar-blog/raw/master/images/flink/jvm-module.png)

- 类加载子系统负责从文件系统或者网络中加载Class的信息，加载的类信息会存放于方法区。同时，方法区还会存放运行时常量池信息，包括字符串字面量和数字常量。
- Java堆再虚拟机启动时建立，几乎所有对象实例都存放于堆中。堆是所有线程共享的。
- 直接内存是在java堆外直接向系统申请的内存空间。访问速度更快但是内存分配速度更慢。
- 垃圾回收器可以对方法区、堆和直接方法区内存进行回收。
- 每个Java虚拟机线程都有一个私有的Java栈。Java栈在线程被创建的时候创建。
- 本地方法栈用于线程对本地方法的调用。
- PC寄存器是线程私有的，指向当前正在被执行的指令。
- 执行引擎负责虚拟机字节码（class文件）的执行。现代虚拟机为了提高执行效率，会使用编译技术，将方法编译成机器码之后执行：JIT即时编译技术。

### Java堆

### Java栈
![栈帧和函数调用](https://github.com/southCountry/omar-blog/raw/master/images/flink/java-zhan.png)

#### 栈上分配
